{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":69,"index":104}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":106},"end":{"line":3,"column":37,"index":143}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoRouter = require(_dependencyMap[2], \"expo-router\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    university: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: async (user, token, university) => {\n      if (token) await AsyncStorage.default.setItem('authToken', token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(user));\n      if (university) await AsyncStorage.default.setItem('university', JSON.stringify(university));\n      set({\n        user,\n        token,\n        university,\n        isAuthenticated: true,\n        isLoading: false\n      });\n    },\n    logout: async () => {\n      try {\n        // Clear all stored data\n        await AsyncStorage.default.removeItem('authToken');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.removeItem('university');\n\n        // Reset zustand state\n        set({\n          user: null,\n          token: null,\n          university: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n\n        // Reset navigation stack\n        _expoRouter.router.replace('/auth/login');\n      } catch (error) {\n        console.log('Logout Error:', error);\n      }\n    },\n    updateUser: updatedUser => {\n      set(state => ({\n        user: state.user ? {\n          ...state.user,\n          ...updatedUser\n        } : null\n      }));\n    },\n    loadFromStorage: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('authToken');\n        const userJson = await AsyncStorage.default.getItem('user');\n        const universityJson = await AsyncStorage.default.getItem('university');\n        if (token && userJson && universityJson) {\n          const user = JSON.parse(userJson);\n          const university = JSON.parse(universityJson);\n          set({\n            user,\n            token,\n            university,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading from storage:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":98,"map":[[12,2,38,0,"Object"],[12,8,38,0],[12,9,38,0,"defineProperty"],[12,23,38,0],[12,24,38,0,"exports"],[12,31,38,0],[13,4,38,0,"enumerable"],[13,14,38,0],[14,4,38,0,"get"],[14,7,38,0],[14,18,38,0,"get"],[14,19,38,0],[15,6,38,0],[15,13,38,0,"useAuthStore"],[15,25,38,0],[16,4,38,0],[17,2,38,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_expoRouter"],[21,17,3,0],[21,20,3,0,"require"],[21,27,3,0],[21,28,3,0,"_dependencyMap"],[21,42,3,0],[22,2,38,7],[22,8,38,13,"useAuthStore"],[22,20,38,25],[22,23,38,28],[22,27,38,28,"create"],[22,35,38,34],[22,36,38,34,"create"],[22,42,38,34],[22,44,38,47,"set"],[22,47,38,50],[22,52,38,56],[23,4,39,2,"user"],[23,8,39,6],[23,10,39,8],[23,14,39,12],[24,4,40,2,"university"],[24,14,40,12],[24,16,40,14],[24,20,40,18],[25,4,41,2,"token"],[25,9,41,7],[25,11,41,9],[25,15,41,13],[26,4,42,2,"isLoading"],[26,13,42,11],[26,15,42,13],[26,19,42,17],[27,4,43,2,"isAuthenticated"],[27,19,43,17],[27,21,43,19],[27,26,43,24],[28,4,45,2,"setUser"],[28,11,45,9],[28,13,45,11],[28,19,45,11,"setUser"],[28,20,45,18,"user"],[28,24,45,22],[28,26,45,24,"token"],[28,31,45,29],[28,33,45,31,"university"],[28,43,45,41],[28,48,45,46],[29,6,46,4],[29,10,46,8,"token"],[29,15,46,13],[29,17,46,15],[29,23,46,21,"AsyncStorage"],[29,35,46,33],[29,36,46,33,"default"],[29,43,46,33],[29,44,46,34,"setItem"],[29,51,46,41],[29,52,46,42],[29,63,46,53],[29,65,46,55,"token"],[29,70,46,60],[29,71,46,61],[30,6,47,4],[30,12,47,10,"AsyncStorage"],[30,24,47,22],[30,25,47,22,"default"],[30,32,47,22],[30,33,47,23,"setItem"],[30,40,47,30],[30,41,47,31],[30,47,47,37],[30,49,47,39,"JSON"],[30,53,47,43],[30,54,47,44,"stringify"],[30,63,47,53],[30,64,47,54,"user"],[30,68,47,58],[30,69,47,59],[30,70,47,60],[31,6,48,4],[31,10,48,8,"university"],[31,20,48,18],[31,22,48,20],[31,28,48,26,"AsyncStorage"],[31,40,48,38],[31,41,48,38,"default"],[31,48,48,38],[31,49,48,39,"setItem"],[31,56,48,46],[31,57,48,47],[31,69,48,59],[31,71,48,61,"JSON"],[31,75,48,65],[31,76,48,66,"stringify"],[31,85,48,75],[31,86,48,76,"university"],[31,96,48,86],[31,97,48,87],[31,98,48,88],[32,6,50,4,"set"],[32,9,50,7],[32,10,50,8],[33,8,51,6,"user"],[33,12,51,10],[34,8,52,6,"token"],[34,13,52,11],[35,8,53,6,"university"],[35,18,53,16],[36,8,54,6,"isAuthenticated"],[36,23,54,21],[36,25,54,23],[36,29,54,27],[37,8,55,6,"isLoading"],[37,17,55,15],[37,19,55,17],[38,6,56,4],[38,7,56,5],[38,8,56,6],[39,4,57,2],[39,5,57,3],[40,4,59,2,"logout"],[40,10,59,8],[40,12,59,10],[40,18,59,10,"logout"],[40,19,59,10],[40,24,59,22],[41,6,60,4],[41,10,60,8],[42,8,61,6],[43,8,62,6],[43,14,62,12,"AsyncStorage"],[43,26,62,24],[43,27,62,24,"default"],[43,34,62,24],[43,35,62,25,"removeItem"],[43,45,62,35],[43,46,62,36],[43,57,62,47],[43,58,62,48],[44,8,63,6],[44,14,63,12,"AsyncStorage"],[44,26,63,24],[44,27,63,24,"default"],[44,34,63,24],[44,35,63,25,"removeItem"],[44,45,63,35],[44,46,63,36],[44,52,63,42],[44,53,63,43],[45,8,64,6],[45,14,64,12,"AsyncStorage"],[45,26,64,24],[45,27,64,24,"default"],[45,34,64,24],[45,35,64,25,"removeItem"],[45,45,64,35],[45,46,64,36],[45,58,64,48],[45,59,64,49],[47,8,66,6],[48,8,67,6,"set"],[48,11,67,9],[48,12,67,10],[49,10,68,8,"user"],[49,14,68,12],[49,16,68,14],[49,20,68,18],[50,10,69,8,"token"],[50,15,69,13],[50,17,69,15],[50,21,69,19],[51,10,70,8,"university"],[51,20,70,18],[51,22,70,20],[51,26,70,24],[52,10,71,8,"isAuthenticated"],[52,25,71,23],[52,27,71,25],[52,32,71,30],[53,10,72,8,"isLoading"],[53,19,72,17],[53,21,72,19],[54,8,73,6],[54,9,73,7],[54,10,73,8],[56,8,75,6],[57,8,76,6,"router"],[57,19,76,12],[57,20,76,12,"router"],[57,26,76,12],[57,27,76,13,"replace"],[57,34,76,20],[57,35,76,21],[57,48,76,34],[57,49,76,35],[58,6,77,4],[58,7,77,5],[58,8,77,6],[58,15,77,13,"error"],[58,20,77,18],[58,22,77,20],[59,8,78,6,"console"],[59,15,78,13],[59,16,78,14,"log"],[59,19,78,17],[59,20,78,18],[59,35,78,33],[59,37,78,35,"error"],[59,42,78,40],[59,43,78,41],[60,6,79,4],[61,4,80,2],[61,5,80,3],[62,4,82,2,"updateUser"],[62,14,82,12],[62,16,82,15,"updatedUser"],[62,27,82,26],[62,31,82,31],[63,6,83,4,"set"],[63,9,83,7],[63,10,83,9,"state"],[63,15,83,14],[63,20,83,20],[64,8,84,6,"user"],[64,12,84,10],[64,14,84,12,"state"],[64,19,84,17],[64,20,84,18,"user"],[64,24,84,22],[64,27,84,25],[65,10,84,27],[65,13,84,30,"state"],[65,18,84,35],[65,19,84,36,"user"],[65,23,84,40],[66,10,84,42],[66,13,84,45,"updatedUser"],[67,8,84,57],[67,9,84,58],[67,12,84,61],[68,6,85,4],[68,7,85,5],[68,8,85,6],[68,9,85,7],[69,4,86,2],[69,5,86,3],[70,4,88,2,"loadFromStorage"],[70,19,88,17],[70,21,88,19],[70,27,88,19,"loadFromStorage"],[70,28,88,19],[70,33,88,31],[71,6,89,4],[71,10,89,8],[72,8,90,6],[72,14,90,12,"token"],[72,19,90,17],[72,22,90,20],[72,28,90,26,"AsyncStorage"],[72,40,90,38],[72,41,90,38,"default"],[72,48,90,38],[72,49,90,39,"getItem"],[72,56,90,46],[72,57,90,47],[72,68,90,58],[72,69,90,59],[73,8,91,6],[73,14,91,12,"userJson"],[73,22,91,20],[73,25,91,23],[73,31,91,29,"AsyncStorage"],[73,43,91,41],[73,44,91,41,"default"],[73,51,91,41],[73,52,91,42,"getItem"],[73,59,91,49],[73,60,91,50],[73,66,91,56],[73,67,91,57],[74,8,92,6],[74,14,92,12,"universityJson"],[74,28,92,26],[74,31,92,29],[74,37,92,35,"AsyncStorage"],[74,49,92,47],[74,50,92,47,"default"],[74,57,92,47],[74,58,92,48,"getItem"],[74,65,92,55],[74,66,92,56],[74,78,92,68],[74,79,92,69],[75,8,94,6],[75,12,94,10,"token"],[75,17,94,15],[75,21,94,19,"userJson"],[75,29,94,27],[75,33,94,31,"universityJson"],[75,47,94,45],[75,49,94,47],[76,10,95,8],[76,16,95,14,"user"],[76,20,95,18],[76,23,95,21,"JSON"],[76,27,95,25],[76,28,95,26,"parse"],[76,33,95,31],[76,34,95,32,"userJson"],[76,42,95,40],[76,43,95,41],[77,10,96,8],[77,16,96,14,"university"],[77,26,96,24],[77,29,96,27,"JSON"],[77,33,96,31],[77,34,96,32,"parse"],[77,39,96,37],[77,40,96,38,"universityJson"],[77,54,96,52],[77,55,96,53],[78,10,98,8,"set"],[78,13,98,11],[78,14,98,12],[79,12,99,10,"user"],[79,16,99,14],[80,12,100,10,"token"],[80,17,100,15],[81,12,101,10,"university"],[81,22,101,20],[82,12,102,10,"isAuthenticated"],[82,27,102,25],[82,29,102,27],[82,33,102,31],[83,12,103,10,"isLoading"],[83,21,103,19],[83,23,103,21],[84,10,104,8],[84,11,104,9],[84,12,104,10],[85,8,105,6],[85,9,105,7],[85,15,105,13],[86,10,106,8,"set"],[86,13,106,11],[86,14,106,12],[87,12,106,14,"isLoading"],[87,21,106,23],[87,23,106,25],[88,10,106,31],[88,11,106,32],[88,12,106,33],[89,8,107,6],[90,6,108,4],[90,7,108,5],[90,8,108,6],[90,15,108,13,"error"],[90,20,108,18],[90,22,108,20],[91,8,109,6,"console"],[91,15,109,13],[91,16,109,14,"error"],[91,21,109,19],[91,22,109,20],[91,51,109,49],[91,53,109,51,"error"],[91,58,109,56],[91,59,109,57],[92,8,110,6,"set"],[92,11,110,9],[92,12,110,10],[93,10,110,12,"isLoading"],[93,19,110,21],[93,21,110,23],[94,8,110,29],[94,9,110,30],[94,10,110,31],[95,6,111,4],[96,4,112,2],[97,2,113,0],[97,3,113,1],[97,4,113,2],[97,5,113,3],[98,0,113,4],[98,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","logout","updateUser","set$argument_0","loadFromStorage"],"mappings":"AAA;8CCqC;WCO;GDY;UEE;GFqB;cGE;QCC;MDE;GHC;mBKE;GLwB;EDC"},"hasCjsExports":false},"type":"js/module"}]}