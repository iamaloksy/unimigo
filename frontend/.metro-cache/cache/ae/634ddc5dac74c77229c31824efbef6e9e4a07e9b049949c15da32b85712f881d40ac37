{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":69,"index":104}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":106},"end":{"line":3,"column":37,"index":143}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoRouter = require(_dependencyMap[2], \"expo-router\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    university: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: async (user, token, university) => {\n      if (token) await AsyncStorage.default.setItem('authToken', token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(user));\n      if (university) await AsyncStorage.default.setItem('university', JSON.stringify(university));\n      set({\n        user,\n        token,\n        university,\n        isAuthenticated: true,\n        isLoading: false\n      });\n    },\n    logout: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('authToken');\n\n        // Call backend logout API to invalidate token\n        if (token) {\n          try {\n            const API_URL = Platform.default.OS === 'web' ? 'http://localhost:8001' : 'http://10.60.236.240:8001';\n            await fetch(`${API_URL}/api/auth/logout`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n              }\n            });\n          } catch (apiError) {\n            console.log('Backend logout error:', apiError);\n          }\n        }\n\n        // Clear all stored data\n        await AsyncStorage.default.removeItem('authToken');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.removeItem('university');\n\n        // Reset zustand state\n        set({\n          user: null,\n          token: null,\n          university: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n\n        // Reset navigation stack\n        _expoRouter.router.replace('/auth/login');\n      } catch (error) {\n        console.log('Logout Error:', error);\n      }\n    },\n    updateUser: updatedUser => {\n      set(state => ({\n        user: state.user ? Object.assign({}, state.user, updatedUser) : null\n      }));\n    },\n    loadFromStorage: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('authToken');\n        const userJson = await AsyncStorage.default.getItem('user');\n        const universityJson = await AsyncStorage.default.getItem('university');\n        if (token && userJson && universityJson) {\n          const user = JSON.parse(userJson);\n          const university = JSON.parse(universityJson);\n          set({\n            user,\n            token,\n            university,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading from storage:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":115,"map":[[12,2,39,0,"Object"],[12,8,39,0],[12,9,39,0,"defineProperty"],[12,23,39,0],[12,24,39,0,"exports"],[12,31,39,0],[13,4,39,0,"enumerable"],[13,14,39,0],[14,4,39,0,"get"],[14,7,39,0],[14,18,39,0,"get"],[14,19,39,0],[15,6,39,0],[15,13,39,0,"useAuthStore"],[15,25,39,0],[16,4,39,0],[17,2,39,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_expoRouter"],[21,17,3,0],[21,20,3,0,"require"],[21,27,3,0],[21,28,3,0,"_dependencyMap"],[21,42,3,0],[22,2,3,37],[22,6,3,37,"_reactNativeWebDistExportsPlatform"],[22,40,3,37],[22,43,3,37,"require"],[22,50,3,37],[22,51,3,37,"_dependencyMap"],[22,65,3,37],[23,2,3,37],[23,6,3,37,"Platform"],[23,14,3,37],[23,17,3,37,"_interopDefault"],[23,32,3,37],[23,33,3,37,"_reactNativeWebDistExportsPlatform"],[23,67,3,37],[24,2,39,7],[24,8,39,13,"useAuthStore"],[24,20,39,25],[24,23,39,28],[24,27,39,28,"create"],[24,35,39,34],[24,36,39,34,"create"],[24,42,39,34],[24,44,39,47,"set"],[24,47,39,50],[24,52,39,56],[25,4,40,2,"user"],[25,8,40,6],[25,10,40,8],[25,14,40,12],[26,4,41,2,"university"],[26,14,41,12],[26,16,41,14],[26,20,41,18],[27,4,42,2,"token"],[27,9,42,7],[27,11,42,9],[27,15,42,13],[28,4,43,2,"isLoading"],[28,13,43,11],[28,15,43,13],[28,19,43,17],[29,4,44,2,"isAuthenticated"],[29,19,44,17],[29,21,44,19],[29,26,44,24],[30,4,46,2,"setUser"],[30,11,46,9],[30,13,46,11],[30,19,46,11,"setUser"],[30,20,46,18,"user"],[30,24,46,22],[30,26,46,24,"token"],[30,31,46,29],[30,33,46,31,"university"],[30,43,46,41],[30,48,46,46],[31,6,47,4],[31,10,47,8,"token"],[31,15,47,13],[31,17,47,15],[31,23,47,21,"AsyncStorage"],[31,35,47,33],[31,36,47,33,"default"],[31,43,47,33],[31,44,47,34,"setItem"],[31,51,47,41],[31,52,47,42],[31,63,47,53],[31,65,47,55,"token"],[31,70,47,60],[31,71,47,61],[32,6,48,4],[32,12,48,10,"AsyncStorage"],[32,24,48,22],[32,25,48,22,"default"],[32,32,48,22],[32,33,48,23,"setItem"],[32,40,48,30],[32,41,48,31],[32,47,48,37],[32,49,48,39,"JSON"],[32,53,48,43],[32,54,48,44,"stringify"],[32,63,48,53],[32,64,48,54,"user"],[32,68,48,58],[32,69,48,59],[32,70,48,60],[33,6,49,4],[33,10,49,8,"university"],[33,20,49,18],[33,22,49,20],[33,28,49,26,"AsyncStorage"],[33,40,49,38],[33,41,49,38,"default"],[33,48,49,38],[33,49,49,39,"setItem"],[33,56,49,46],[33,57,49,47],[33,69,49,59],[33,71,49,61,"JSON"],[33,75,49,65],[33,76,49,66,"stringify"],[33,85,49,75],[33,86,49,76,"university"],[33,96,49,86],[33,97,49,87],[33,98,49,88],[34,6,51,4,"set"],[34,9,51,7],[34,10,51,8],[35,8,52,6,"user"],[35,12,52,10],[36,8,53,6,"token"],[36,13,53,11],[37,8,54,6,"university"],[37,18,54,16],[38,8,55,6,"isAuthenticated"],[38,23,55,21],[38,25,55,23],[38,29,55,27],[39,8,56,6,"isLoading"],[39,17,56,15],[39,19,56,17],[40,6,57,4],[40,7,57,5],[40,8,57,6],[41,4,58,2],[41,5,58,3],[42,4,60,2,"logout"],[42,10,60,8],[42,12,60,10],[42,18,60,10,"logout"],[42,19,60,10],[42,24,60,22],[43,6,61,4],[43,10,61,8],[44,8,62,6],[44,14,62,12,"token"],[44,19,62,17],[44,22,62,20],[44,28,62,26,"AsyncStorage"],[44,40,62,38],[44,41,62,38,"default"],[44,48,62,38],[44,49,62,39,"getItem"],[44,56,62,46],[44,57,62,47],[44,68,62,58],[44,69,62,59],[46,8,64,6],[47,8,65,6],[47,12,65,10,"token"],[47,17,65,15],[47,19,65,17],[48,10,66,8],[48,14,66,12],[49,12,67,10],[49,18,67,16,"API_URL"],[49,25,67,23],[49,28,67,26,"Platform"],[49,36,67,34],[49,37,67,34,"default"],[49,44,67,34],[49,45,67,35,"OS"],[49,47,67,37],[49,52,67,42],[49,57,67,47],[49,60,67,50],[49,83,67,73],[49,86,67,76],[49,113,67,103],[50,12,68,10],[50,18,68,16,"fetch"],[50,23,68,21],[50,24,68,22],[50,27,68,25,"API_URL"],[50,34,68,32],[50,52,68,50],[50,54,68,52],[51,14,69,12,"method"],[51,20,69,18],[51,22,69,20],[51,28,69,26],[52,14,70,12,"headers"],[52,21,70,19],[52,23,70,21],[53,16,71,14],[53,30,71,28],[53,32,71,30],[53,50,71,48],[54,16,72,14],[54,31,72,29],[54,33,72,31],[54,43,72,41,"token"],[54,48,72,46],[55,14,73,12],[56,12,74,10],[56,13,74,11],[56,14,74,12],[57,10,75,8],[57,11,75,9],[57,12,75,10],[57,19,75,17,"apiError"],[57,27,75,25],[57,29,75,27],[58,12,76,10,"console"],[58,19,76,17],[58,20,76,18,"log"],[58,23,76,21],[58,24,76,22],[58,47,76,45],[58,49,76,47,"apiError"],[58,57,76,55],[58,58,76,56],[59,10,77,8],[60,8,78,6],[62,8,80,6],[63,8,81,6],[63,14,81,12,"AsyncStorage"],[63,26,81,24],[63,27,81,24,"default"],[63,34,81,24],[63,35,81,25,"removeItem"],[63,45,81,35],[63,46,81,36],[63,57,81,47],[63,58,81,48],[64,8,82,6],[64,14,82,12,"AsyncStorage"],[64,26,82,24],[64,27,82,24,"default"],[64,34,82,24],[64,35,82,25,"removeItem"],[64,45,82,35],[64,46,82,36],[64,52,82,42],[64,53,82,43],[65,8,83,6],[65,14,83,12,"AsyncStorage"],[65,26,83,24],[65,27,83,24,"default"],[65,34,83,24],[65,35,83,25,"removeItem"],[65,45,83,35],[65,46,83,36],[65,58,83,48],[65,59,83,49],[67,8,85,6],[68,8,86,6,"set"],[68,11,86,9],[68,12,86,10],[69,10,87,8,"user"],[69,14,87,12],[69,16,87,14],[69,20,87,18],[70,10,88,8,"token"],[70,15,88,13],[70,17,88,15],[70,21,88,19],[71,10,89,8,"university"],[71,20,89,18],[71,22,89,20],[71,26,89,24],[72,10,90,8,"isAuthenticated"],[72,25,90,23],[72,27,90,25],[72,32,90,30],[73,10,91,8,"isLoading"],[73,19,91,17],[73,21,91,19],[74,8,92,6],[74,9,92,7],[74,10,92,8],[76,8,94,6],[77,8,95,6,"router"],[77,19,95,12],[77,20,95,12,"router"],[77,26,95,12],[77,27,95,13,"replace"],[77,34,95,20],[77,35,95,21],[77,48,95,34],[77,49,95,35],[78,6,96,4],[78,7,96,5],[78,8,96,6],[78,15,96,13,"error"],[78,20,96,18],[78,22,96,20],[79,8,97,6,"console"],[79,15,97,13],[79,16,97,14,"log"],[79,19,97,17],[79,20,97,18],[79,35,97,33],[79,37,97,35,"error"],[79,42,97,40],[79,43,97,41],[80,6,98,4],[81,4,99,2],[81,5,99,3],[82,4,101,2,"updateUser"],[82,14,101,12],[82,16,101,15,"updatedUser"],[82,27,101,26],[82,31,101,31],[83,6,102,4,"set"],[83,9,102,7],[83,10,102,9,"state"],[83,15,102,14],[83,20,102,20],[84,8,103,6,"user"],[84,12,103,10],[84,14,103,12,"state"],[84,19,103,17],[84,20,103,18,"user"],[84,24,103,22],[84,27,103,22,"Object"],[84,33,103,22],[84,34,103,22,"assign"],[84,40,103,22],[84,45,103,30,"state"],[84,50,103,35],[84,51,103,36,"user"],[84,55,103,40],[84,57,103,45,"updatedUser"],[84,68,103,56],[84,72,103,61],[85,6,104,4],[85,7,104,5],[85,8,104,6],[85,9,104,7],[86,4,105,2],[86,5,105,3],[87,4,107,2,"loadFromStorage"],[87,19,107,17],[87,21,107,19],[87,27,107,19,"loadFromStorage"],[87,28,107,19],[87,33,107,31],[88,6,108,4],[88,10,108,8],[89,8,109,6],[89,14,109,12,"token"],[89,19,109,17],[89,22,109,20],[89,28,109,26,"AsyncStorage"],[89,40,109,38],[89,41,109,38,"default"],[89,48,109,38],[89,49,109,39,"getItem"],[89,56,109,46],[89,57,109,47],[89,68,109,58],[89,69,109,59],[90,8,110,6],[90,14,110,12,"userJson"],[90,22,110,20],[90,25,110,23],[90,31,110,29,"AsyncStorage"],[90,43,110,41],[90,44,110,41,"default"],[90,51,110,41],[90,52,110,42,"getItem"],[90,59,110,49],[90,60,110,50],[90,66,110,56],[90,67,110,57],[91,8,111,6],[91,14,111,12,"universityJson"],[91,28,111,26],[91,31,111,29],[91,37,111,35,"AsyncStorage"],[91,49,111,47],[91,50,111,47,"default"],[91,57,111,47],[91,58,111,48,"getItem"],[91,65,111,55],[91,66,111,56],[91,78,111,68],[91,79,111,69],[92,8,113,6],[92,12,113,10,"token"],[92,17,113,15],[92,21,113,19,"userJson"],[92,29,113,27],[92,33,113,31,"universityJson"],[92,47,113,45],[92,49,113,47],[93,10,114,8],[93,16,114,14,"user"],[93,20,114,18],[93,23,114,21,"JSON"],[93,27,114,25],[93,28,114,26,"parse"],[93,33,114,31],[93,34,114,32,"userJson"],[93,42,114,40],[93,43,114,41],[94,10,115,8],[94,16,115,14,"university"],[94,26,115,24],[94,29,115,27,"JSON"],[94,33,115,31],[94,34,115,32,"parse"],[94,39,115,37],[94,40,115,38,"universityJson"],[94,54,115,52],[94,55,115,53],[95,10,117,8,"set"],[95,13,117,11],[95,14,117,12],[96,12,118,10,"user"],[96,16,118,14],[97,12,119,10,"token"],[97,17,119,15],[98,12,120,10,"university"],[98,22,120,20],[99,12,121,10,"isAuthenticated"],[99,27,121,25],[99,29,121,27],[99,33,121,31],[100,12,122,10,"isLoading"],[100,21,122,19],[100,23,122,21],[101,10,123,8],[101,11,123,9],[101,12,123,10],[102,8,124,6],[102,9,124,7],[102,15,124,13],[103,10,125,8,"set"],[103,13,125,11],[103,14,125,12],[104,12,125,14,"isLoading"],[104,21,125,23],[104,23,125,25],[105,10,125,31],[105,11,125,32],[105,12,125,33],[106,8,126,6],[107,6,127,4],[107,7,127,5],[107,8,127,6],[107,15,127,13,"error"],[107,20,127,18],[107,22,127,20],[108,8,128,6,"console"],[108,15,128,13],[108,16,128,14,"error"],[108,21,128,19],[108,22,128,20],[108,51,128,49],[108,53,128,51,"error"],[108,58,128,56],[108,59,128,57],[109,8,129,6,"set"],[109,11,129,9],[109,12,129,10],[110,10,129,12,"isLoading"],[110,19,129,21],[110,21,129,23],[111,8,129,29],[111,9,129,30],[111,10,129,31],[112,6,130,4],[113,4,131,2],[114,2,132,0],[114,3,132,1],[114,4,132,2],[114,5,132,3],[115,0,132,4],[115,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","logout","updateUser","set$argument_0","loadFromStorage"],"mappings":"AAA;8CCsC;WCO;GDY;UEE;GFuC;cGE;QCC;MDE;GHC;mBKE;GLwB;EDC"},"hasCjsExports":false},"type":"js/module"}]}